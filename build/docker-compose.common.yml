version: '2.4'
services:
  mysql:
    build:
      context: docker/mysql:5.6
    container_name: mysql
    env_file: docker/mysql:5.6/.env
    restart: always
    networks:
      - mm-test
  postgres:
    build:
      context: docker/postgres:9.4
    container_name: postgres
    env_file: docker/postgres:9.4/.env
    restart: always
    networks:
      - mm-test
  minio:
    build:
      context: docker/minio:RELEASE.2019-10-11T00-38-09Z
    env_file: docker/minio:RELEASE.2019-10-11T00-38-09Z/.env
    container_name: minio
    networks:
      - mm-test
  inbucket:
    build:
      context: docker/inbucket:release-1.2.0
    env_file: docker/inbucket:release-1.2.0/.env
    restart: always
    networks:
      - mm-test
  openldap:
    build:
      context: docker/openldap:1.2.2
    env_file: docker/openldap:1.2.2/.env
    container_name: openldap
    restart: always
    networks:
      - mm-test
  elasticsearch:
    build:
      context: docker/mattermost-elasticsearch-docker:6.5.1
    env_file: docker/mattermost-elasticsearch-docker:6.5.1/.env
    networks:
      - mm-test
  dejavu:
    build:
      context: docker/dejavu:3.4.2
    container_name: dejavu
    env_file: docker/dejavu:3.4.2/.env
    networks:
      - mm-test
  keycloak:
    build:
      context: docker/keycloak:10.0.2
    container_name: keycloak
    env_file: docker/keycloak:10.0.2/.env
    restart: always
    networks:
      - mm-test
